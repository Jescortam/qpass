<%- layout('layouts/boilerplate') %>
  <div class="container">
    <a class="return" href="/usuarios">&#8592; Atrás</a>
    <div class="form-container border px-4 pb-4 rounded mt-1">
      <h1 class="my-3">Agrega un nuevo usuario</h1>
      <form class="form needs-validation" action="/usuarios" method="POST">
        <div class="mb-3 form-child">
          <label for="firstName" class="form-label label-required fw-bold">Nombre(s):</label>
          <input id="firstName" name="user[firstName]" class="form-control" placeholder="Introduzca su(s) nombre(s)..."
            required>
        </div>
        <div class="mb-3 form-child">
          <label for="lastName" class="form-label label-required fw-bold">Apellido(s):</label>
          <input id="lastName" name="user[lastName]" class="form-control" placeholder="Introduzca su(s) apellido(s)..."
            required>
        </div>
        <div class="mb-3 form-child">
          <label for="phoneNumber" class="form-label fw-bold">Número de teléfono:</label>
          <input id="phoneNumber" name="user[phoneNumber]" class="form-control" placeholder="Ejemplo: 8112345678"
            maxlength="10" minlength="10">
        </div>
        <div class="mb-3 form-child">
          <label for="email" class="form-label label-required fw-bold">Correo electrónico:</label>
          <input type="email" id="email" name="user[email]" class="form-control"
            placeholder="Ejemplo: ramon.bonachea@email.com" aria-describedby="passwordHelp" required>
          <small id="emailHelp" class="form-text text-muted">El correo electrónico debe ser único.</small>
        </div>
        <div class="mb-3 form-child">
          <label for="curp" class="form-label fw-bold">CURP:</label>
          <input id="curp" name="user[curp]" class="form-control" placeholder="Ejemplo: OEAF771012HMCRGR09"
            maxlength="18" minlength="18">
        </div>
        <div class="mb-3 form-child">
          <label for="birthDate" class="form-label label-required fw-bold">Fecha de nacimiento:</label>
          <input id="birthDate" name="user[birthDate]" class="form-control" type="date" min="1960-01-01"
            max="2022-12-06" required>
        </div>
        <div class="mb-3 form-child">
          <label for="address" class="form-label fw-bold">Domicilio:</label>
          <input id="address" name="user[address]" class="form-control"
            placeholder="Ejemplo: Calle Puerta de Granada, 19, 18690">
        </div>
        <div class="mb-3 form-child">
          <label for="pin" class="form-label fw-bold">Tarjeta:</label>
          <select id="pin" name="user[card]" class="form-select" aria-label="Selección de tarjeta">
            <% if (!availableCards.length) { %>
              <option value="" selected>No hay tarjetas disponibles</option>
              <% } else for (let availableCard of availableCards) { %>
                <option value="<%= availableCard._id %>">
                  <%= `${availableCard.name} - ${availableCard.number}` %>
                </option>
                <% } %>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Agregar</button>
      </form>
    </div>
  </div>